<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>T√≠nh thu·∫ø TNCN 2025 - 2026</title>

<style>
:root {
  --primary: #2563eb;
  --bg: #f3f4f6;
  --card: #ffffff;
}

body {
  font-family: system-ui, -apple-system, BlinkMacSystemFont;
  background: var(--bg);
  margin: 0;
  padding: 16px;
}

.container {
  max-width: 520px;
  margin: auto;
  background: var(--card);
  padding: 20px;
  border-radius: 14px;
  box-shadow: 0 8px 20px rgba(0,0,0,.08);
}

h1 {
  text-align: center;
  margin-bottom: 16px;
}

label {
  font-weight: 600;
  margin-top: 12px;
  display: block;
}

input[type="number"] {
  width: 100%;
  padding: 10px;
  margin-top: 6px;
  border-radius: 8px;
  border: 1px solid #d1d5db;
  font-size: 16px;
}

.toggle {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-top: 14px;
}

.toggle input {
  width: 20px;
  height: 20px;
}

button {
  width: 100%;
  padding: 14px;
  margin-top: 20px;
  background: var(--primary);
  color: white;
  border: none;
  border-radius: 10px;
  font-size: 16px;
  font-weight: bold;
  cursor: pointer;
}

button.secondary {
  background: #374151;
}

button:hover {
  opacity: .9;
}

.result {
  margin-top: 20px;
  background: #f9fafb;
  padding: 16px;
  border-radius: 10px;
}

.compare {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px;
}

.card {
  background: white;
  border-radius: 10px;
  padding: 12px;
  border: 1px solid #e5e7eb;
}

.card h3 {
  margin-top: 0;
  color: var(--primary);
}

p {
  margin: 6px 0;
}

.footer-btns {
  display: flex;
  gap: 10px;
  margin-top: 14px;
}

@media (max-width: 480px) {
  .compare {
    grid-template-columns: 1fr;
  }
}

/* Print */
@media print {
  body {
    background: white;
  }
  button, .footer-btns {
    display: none;
  }
  .container {
    box-shadow: none;
  }
}
</style>
</head>

<body>

<div class="container">
  <h1>üí∞ T√≠nh Thu·∫ø TNCN</h1>

  <label>Thu nh·∫≠p th√°ng (VND)</label>
  <input type="number" id="income" placeholder="V√≠ d·ª•: 25000000">

  <label>S·ªë ng∆∞·ªùi ph·ª• thu·ªôc</label>
  <input type="number" id="dependents" value="0">

  <div class="toggle">
    <input type="checkbox" id="insurance" checked>
    <label for="insurance">C√≥ ƒë√≥ng b·∫£o hi·ªÉm (10.5%)</label>
  </div>

  <button onclick="calculate()">T√≠nh thu·∫ø & so s√°nh</button>

  <div class="result" id="result" style="display:none;">
    <div class="compare">
      <div class="card">
        <h3>üìÖ NƒÉm 2025</h3>
        <p>Thu·∫ø / th√°ng: <strong id="tax2025"></strong></p>
        <p>Thu·∫ø / nƒÉm: <strong id="tax2025y"></strong></p>
      </div>

      <div class="card">
        <h3>üìÖ NƒÉm 2026</h3>
        <p>Thu·∫ø / th√°ng: <strong id="tax2026"></strong></p>
        <p>Thu·∫ø / nƒÉm: <strong id="tax2026y"></strong></p>
      </div>
    </div>

    <div class="card" style="margin-top:12px;">
      <p>Thu nh·∫≠p th·ª±c nh·∫≠n (2026): <strong id="netIncome"></strong></p>
      <p>Ch√™nh l·ªách thu·∫ø: <strong id="diff"></strong></p>
    </div>

    <div class="footer-btns">
      <button class="secondary" onclick="window.print()">üñ® In / Xu·∫•t PDF</button>
    </div>
  </div>
</div>

<script>
function calcTax(taxable, brackets) {
  let tax = 0, prev = 0;
  for (const b of brackets) {
    if (taxable > prev) {
      tax += (Math.min(taxable, b.limit) - prev) * b.rate;
      prev = b.limit;
    }
  }
  return tax;
}

function calculate() {
  const income = Number(incomeInput.value);
  const dependents = Number(dependentsInput.value);
  const hasInsurance = insurance.checked;

  if (income <= 0) {
    alert("Vui l√≤ng nh·∫≠p thu nh·∫≠p h·ª£p l·ªá");
    return;
  }

  const insuranceRate = hasInsurance ? 0.105 : 0;
  const afterInsurance = income * (1 - insuranceRate) / 1_000_000;

  // ==== 2025 ====
  const taxable2025 = Math.max(
    afterInsurance - 11 - dependents * 4.4,
    0
  );

  const brackets2025 = [
    {limit:5, rate:0.05},
    {limit:10, rate:0.10},
    {limit:18, rate:0.15},
    {limit:32, rate:0.20},
    {limit:52, rate:0.25},
    {limit:80, rate:0.30},
    {limit:Infinity, rate:0.35},
  ];

  const tax2025 = calcTax(taxable2025, brackets2025);

  // ==== 2026 ====
  const taxable2026 = Math.max(
    afterInsurance - 15.5 - dependents * 6.2,
    0
  );

  const brackets2026 = [
    {limit:10, rate:0.05},
    {limit:30, rate:0.10},
    {limit:60, rate:0.20},
    {limit:100, rate:0.30},
    {limit:Infinity, rate:0.35},
  ];

  const tax2026 = calcTax(taxable2026, brackets2026);

  // VND
  const t25 = tax2025 * 1_000_000;
  const t26 = tax2026 * 1_000_000;

  tax2025El.innerText = t25.toLocaleString("vi-VN") + " ƒë";
  tax2025y.innerText = (t25*12).toLocaleString("vi-VN") + " ƒë";
  tax2026El.innerText = t26.toLocaleString("vi-VN") + " ƒë";
  tax2026y.innerText = (t26*12).toLocaleString("vi-VN") + " ƒë";

  netIncome.innerText =
    (income - income*insuranceRate - t26)
      .toLocaleString("vi-VN") + " ƒë";

  diff.innerText =
    (t25 - t26 >= 0 ? "Gi·∫£m " : "TƒÉng ")
    + Math.abs(t25 - t26).toLocaleString("vi-VN") + " ƒë";

  result.style.display = "block";
}

// shortcuts
const incomeInput = document.getElementById("income");
const dependentsInput = document.getElementById("dependents");
const insurance = document.getElementById("insurance");
const result = document.getElementById("result");

const tax2025El = document.getElementById("tax2025");
const tax2025y = document.getElementById("tax2025y");
const tax2026El = document.getElementById("tax2026");
const tax2026y = document.getElementById("tax2026y");
const netIncome = document.getElementById("netIncome");
const diff = document.getElementById("diff");
</script>

</body>
</html>
